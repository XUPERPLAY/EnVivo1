<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Deportes Web (sin sandbox)</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    body{margin:0;background:#000;color:#fff;font-family:Arial,Helvetica,sans-serif}
    header{background:#111;padding:15px;text-align:center;font-size:20px;color:#0ff}
    #player{width:100%;max-width:900px;margin:10px auto;display:block;border-radius:6px}
    nav{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;padding:10px}
    .btn{background:#0ff;color:#000;border:none;border-radius:6px;padding:10px;font-weight:bold;cursor:pointer;font-size:14px}
  </style>
</head>
<body>
  <header>üèüÔ∏è Deportes en Vivo (sin sandbox)</header>

  <video id="player" controls muted></video>

  <nav>
    <button class="btn" onclick="play('SkySportsNews')">Sky Sports News</button>
    <button class="btn" onclick="play('SkySportsMainEvent')">Sky Sports Main Event</button>
    <button class="btn" onclick="play('SkySportsArena')">Sky Sports Arena</button>
    <button class="btn" onclick="play('SkySportsAction')">Sky Sports Action</button>
    <button class="btn" onclick="play('SkySportsF1')">Sky Sports F1</button>
    <button class="btn" onclick="play('SkySportsPremierLeague')">Premier League</button>
    <button class="btn" onclick="play('SkySportsFootball')">Sky Sports Football</button>
    <button class="btn" onclick="play('SkySportsGolf')">Sky Sports Golf</button>
    <button class="btn" onclick="play('SkySportsTennis')">Sky Sports Tennis</button>
    <button class="btn" onclick="play('SkySportsMix')">Sky Sports Mix</button>
    <button class="btn" onclick="play('SkySportsRacing')">Sky Sports Racing</button>
    <button class="btn" onclick="play('TNTSports1')">TNT Sports 1</button>
    <button class="btn" onclick="play('TNTSports2')">TNT Sports 2</button>
    <button class="btn" onclick="play('TNTSports3')">TNT Sports 3</button>
    <button class="btn" onclick="play('TNTSports4')">TNT Sports 4</button>
  </nav>

  <script>
    const player = document.getElementById('player');
    const base = 'https://topembed.pw/playlist';

    function play(channel) {
      const raw = `${base}/${encodeURIComponent(channel + ' [UK]')}.m3u8`;
      const url = `/api/stream?url=${encodeURIComponent(raw)}`;

      if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(player);
        player.play();
      } else if (player.canPlayType('application/vnd.apple.mpegurl')) {
        player.src = url;
        player.play();
      } else {
        alert('Navegador no compatible con HLS.');
      }
    }
  </script>
</body>
</html>
